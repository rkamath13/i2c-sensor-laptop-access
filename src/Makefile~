# Compiler/linker setup ------------------------------------------------------

# Linux-specific flags.  Comment these out if using Mac OS X.
PLATFORM = linux
CC       = gcc
CFLAGS   = -O3 -Wall
OSLIBS   =
LDFLAGS  =

# MCP9808 program -----------------------------------------------------------

mcp: mcp.o i2c.o
	$(CC) $(LDFLAGS) mcp.o i2c.o $(OSLIBS) -o mcp

# I2C library i2c.o ----------------------------------------------------------

i2c.o: i2c-linux.c i2c.h
	$(CC) $(CFLAGS) i2c-linux.c -c -o i2c.o

# Maintenance and stuff ------------------------------------------------------

clean:
	rm -f i2c.o mcp.o mcp 

*.o: i2c.h

.c.o:
	$(CC) $(CFLAGS) -c $*.c
